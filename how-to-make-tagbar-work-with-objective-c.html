<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Bastis Scratchpad On The Internet</title>
    <meta name="description" content="">
    <meta name="author" content="Bastian Bechtold">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="./theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="./theme/bootstrap.min.css" rel="stylesheet">
    <link href="./theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="./theme/local.css" rel="stylesheet">
    <link href="./theme/pygments.css" rel="stylesheet">

    <script language="javascript">
    if(window.MathJax===undefined){
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src  = "http://cdn.mathjax.org/mathjax/latest/MathJax.js";
        var config = 'MathJax.Hub.Config({' +
                    'extensions: ["tex2jax.js"],' +
                    'tex2jax: { '+
                      'inlineMath: [ ["$","$"]], '+
                      'displayMath: [["\\[","\\]"]],'+
                      'processEscapes: true '+
                    '},' +
                    'jax: ["input/TeX","output/HTML-CSS"]' +
                    '});' +
                    'MathJax.Hub.Startup.onload();';
        if (window.opera)
            script.innerHTML = config;
        else
            script.text = config;
        document.getElementsByTagName("head")[0].appendChild(script);
    }
    </script>
</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href=".">Bastis Scratchpad On The Internet</a>

        <div class="nav-collapse">
        <ul class="nav">
        

        
        
        
        </ul>
        </div>

    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        
    <div class='article'>
        <div class="content-title">
            <h1>How to make Tagbar work with Objective-C</h1>
            04/12/2011


by <a class="url fn" href="./author/bastian-bechtold.html">Bastian Bechtold</a>
 




        </div>
	
        <div><p>For the longest time, ctags did not support Objective-C. Without tags, many of the cool programming-related features of Vim simply didn't work. (There are ways to coax other programs to output tags, but this is usually painful)</p>
<p>Recently however, ctags finally gained support for Objective-C! Hurrah!
As of today, Objective-C support is not in the stable branch yet, but thanks to the magic of homebrew, an Obj-C ready ctags is only a <code>brew install ctags --HEAD</code> away!</p>
<p>With that, tag navigation in Vim works for Objective-C. Awesome!
However, Tagbar does not work yet. There used to be <a href="http://stackoverflow.com/a/5790832/1034">a workaround</a> that apparently worked for some people, but it did not work for me.
Things like this drive me nuts. I can see that tags are being generated, but Tagbar won't show them. What is going wrong?</p>
<p>Some investigation proved: There is simply no template in Tagbar for Objective-C! Luckily, that can be fixed quite easily: Simply put this code in your .vimrc:</p>
<div class="codehilite"><pre>&quot; <span class="n">add</span> <span class="n">a</span> <span class="n">definition</span> <span class="k">for</span> <span class="n">Objective</span><span class="o">-</span><span class="n">C</span> <span class="n">to</span> <span class="n">tagbar</span>
<span class="n">let</span> <span class="n">g</span><span class="p">:</span><span class="n">tagbar_type_objc</span> <span class="p">=</span> <span class="p">{</span>
    <span class="o">\</span> <span class="s">&#39;ctagstype&#39;</span> <span class="p">:</span> <span class="s">&#39;ObjectiveC&#39;</span><span class="p">,</span>
    <span class="o">\</span> <span class="s">&#39;kinds&#39;</span>     <span class="p">:</span> <span class="p">[</span>
        <span class="o">\</span> <span class="s">&#39;i:interface&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;I:implementation&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;p:Protocol&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;m:Object_method&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;c:Class_method&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;v:Global_variable&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;F:Object field&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;f:function&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;p:property&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;t:type_alias&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;s:type_structure&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;e:enumeration&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;M:preprocessor_macro&#39;</span><span class="p">,</span>
    <span class="o">\</span> <span class="p">],</span>
    <span class="o">\</span> <span class="s">&#39;sro&#39;</span>        <span class="p">:</span> <span class="s">&#39; &#39;</span><span class="p">,</span>
    <span class="o">\</span> <span class="s">&#39;kind2scope&#39;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="o">\</span> <span class="s">&#39;i&#39;</span> <span class="p">:</span> <span class="s">&#39;interface&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;I&#39;</span> <span class="p">:</span> <span class="s">&#39;implementation&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;p&#39;</span> <span class="p">:</span> <span class="s">&#39;Protocol&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;s&#39;</span> <span class="p">:</span> <span class="s">&#39;type_structure&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;e&#39;</span> <span class="p">:</span> <span class="s">&#39;enumeration&#39;</span>
    <span class="o">\</span> <span class="p">},</span>
    <span class="o">\</span> <span class="s">&#39;scope2kind&#39;</span> <span class="p">:</span> <span class="p">{</span>
        <span class="o">\</span> <span class="s">&#39;interface&#39;</span>      <span class="p">:</span> <span class="s">&#39;i&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;implementation&#39;</span> <span class="p">:</span> <span class="s">&#39;I&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;Protocol&#39;</span>       <span class="p">:</span> <span class="s">&#39;p&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;type_structure&#39;</span> <span class="p">:</span> <span class="s">&#39;s&#39;</span><span class="p">,</span>
        <span class="o">\</span> <span class="s">&#39;enumeration&#39;</span>    <span class="p">:</span> <span class="s">&#39;e&#39;</span>
    <span class="o">\</span> <span class="p">}</span>
<span class="o">\</span> <span class="p">}</span>
</pre></div>


<p>With that, Tagbar should work. Admittedly, it won't work perfectly yet. Class definitions will show up in addition to their contents and the contents of all categories will go into the same list. Also, you won't get much more than a flat list of functions with no way to distinguish between class methods and object methods. This can be confusing at times, but by and large, it does the job!</p>
<p>Happy Vimming!</p></div>
	
        <hr>
    	   
        <h2>Comments</h2>
	
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="paperflyer">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>

	
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'bastibe'; 

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

        </div>

        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Site
                </li>

                <li><a href="./archives.html">Archives</a>
                <li><a href="./tags.html">Tags</a>
                <li><a href="./" rel="alternate">Atom feed</a></li>
                
                <li><a href="./feeds/all.rss.xml" rel="alternate">RSS feed</a></li>
                
            </ul>
            </div>


            
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Categories
                </li>

                
                <li><a href="./category/all.html">all</a></li>
                
            </ul>
            </div>
            


            


            
            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Social
                </li>

                
                <li><a href="http://twitter.com/paperflyer">twitter</a></li>
                
                <li><a href="http://github.com/bastibe">github</a></li>
                
            </ul>
            </div>
            </div>
            

        </div> 
    </div> 
    </div> 

<footer>
<br />
<p><a href=".">Bastis Scratchpad On The Internet</a> &copy; Bastian Bechtold 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>


<a href="http://github.com/bastibe/"><img style="position: absolute; top: 40px; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub" /></a>

</body>
</html>