<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="alternate"
      type="application/rss+xml"
      href="https://bastibe.de/rss.xml"
      title="RSS feed for https://bastibe.de/"/>
<title>Bastibe.de</title>
<meta name="author" content="Bastian Bechtold">
<meta name="referrer" content="no-referrer">
<link href= "static/style.css" rel="stylesheet" type="text/css" />
<link rel="icon" href="static/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="static/favicon-152.png">
<link rel="msapplication-TitleImage" href="static/favicon-144.png">
<link rel="msapplication-TitleColor" href="#0141ff">
<script src="static/katex.min.js"></script>
<script src="static/auto-render.min.js"></script>
<link rel="stylesheet" href="static/katex.min.css">
<script>document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body); });</script>
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
<meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1"></head>
<body>
<div id="preamble" class="status"><div class="header">
  <a href="https://bastibe.de">Basti's Scratchpad on the Internet</a>
  <div class="sitelinks">
    <a href="https://twitter.com/paperflyer">Twitter</a> | <a href="https://github.com/bastibe">Github</a> | <a href="https://bastibe.de/projects.html">Projects</a>
  </div>
</div></div>
<div id="content">

<div class="post-date">13 Mar 2019</div><h1 class="post-title"><a href="2019-03-13-learning-about-photography-sunstars.html">Learning about Photography: Sunstars</a></h1>
<p>
Normally, when you take a picture of something too bright, you get <i>bloom</i>: An all-consuming brightness that plunges everything around it into pure whiteness. Ugly.
</p>

<p>
But if the light source is <i>reeeally</i> tiny, and your aperture is <i>teeeensy</i> as well, you get something else: sunstars
</p>


<figure>
<img src="https://bastibe.de/static/2019-03/sunstar.jpg" alt="sunstar.jpg">

</figure>

<p>
This particular sunstar has fourteen corners, and therefore comes from a seven-bladed aperture (in my Fuji XC 16-50). It happens because tiny apertures are not perfectly circular any longer, but instead, in my case, septagonal, and therefore bloom more in some directions than in others. The effect is kind of beautiful.
</p>

<p>
In this picture, the sun was just barely peeking into the edge between the tree and the building, and my aperture was set to its smallest setting, f22. I actually wanted to capture the raindrops on the branches, which I largely failed at. In the end, the picture didn't turn out very pretty, but at least I got some fine sunstars!
</p>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-photography.html">photography</a> </div>
<div class="post-date">24 Feb 2019</div><h1 class="post-title"><a href="2019-02-24-what-i-learned-about-amateur-photography.html">What I learned about Amateur Photography</a></h1>
<p>
I am an amateur, as in "<a href="https://en.wikipedia.org/wiki/Amateur">lover of</a>", photography. I love cameras as tactile devices, I love how photography makes me consider the world as art, how that little viewfinder can reveal unknown beauty in well-known places or people. And I love looking at my photos, and remembering vacations and meaningful moments. For me, photography is about finding beauty, and capturing memories.
</p>

<p>
However, most of the writing on photography seems to be focused not on my needs, but the needs of professional photographers: A super competitive field of visual artists who compete on image quality and novelty, and use crazy and expensive gear. I have found many of their lessons not applicable to my amateur needs, or even actively detrimental:
</p>

<div id="outline-container-orgd56614f" class="outline-2">
<h2 id="orgd56614f">Embrace the noise</h2>
<div class="outline-text-2" id="text-orgd56614f">
<p>
Many pros limit their ISO numbers, because high-ISO noise is ugly. Which it is. But you know what is even worse for an amateur? Not having that picture of my baby, because it was too dark.
</p>

<p>
So I set my ISO to unlimited, reduce my shutter speed and aperture so I actually have a chance of capturing my fast-moving toddler. And embrace the ensuing noise. Some of my favorite pictures look unbearably noisy on my 4k screen, but look just fine when printed, or on a smartphone (the two most important mediums in the world).
Because of this, I find noise reduction rarely worth the effort. Color heavy noise reduction works ok, but anything else looks worse than the problem. I vastly prefer a sharp, noisy shot to a mushy denoised shot with no detail.
</p>
</div>
</div>

<div id="outline-container-org7b6ee14" class="outline-2">
<h2 id="org7b6ee14">Step it down</h2>
<div class="outline-text-2" id="text-org7b6ee14">
<p>
Another common Pro argument: Wider apertures are better. Which they are, <i>at capturing light</i>, and <i>blurring the background</i>. But as an amateur, a wide-aperture super-shallow depth of field just makes me miss shots. At f1.8, the area in focus is barely a few centimetres deep. I missed too many shots because I accidentally focused on the nose instead of the eye. So, in the absence of studio lighting, and arbitrarily many retries, I prefer to step it down and live with the noise, if need be.
</p>

<p>
As a fun corollary, all those fancy prime lenses with crazy-wide apertures, they are simply wasted on me. Anything beyond, say, f2.8, is not something I need to spend money on.
Also, lenses are noticeably sharper when stepped down! I have been disappointed with the sharpness of a number of shots because I forgot to step it down. Nowadays, I typically shoot at f5.6 or f8, and only go wider if I actually need to, because of lack of light, or if I specifically want a blurry background.
</p>
</div>
</div>

<div id="outline-container-org6bedd06" class="outline-2">
<h2 id="org6bedd06">Wide-ish lenses are easier</h2>
<div class="outline-text-2" id="text-org6bedd06">
<p>
I wondered, for a long time, why pros seem to like long-ish lenses for portraits: The answer is, because longer lenses have a shallower the depth of field (for the same f-number), and pro photographers love their blurry backgrounds. But as I said before, that is not for me.
</p>

<p>
Instead, I prefer wide-ish lenses. If something is too small on a wide-ish lens, it is usually no problem to get a bit closer or to crop afterwards. If something is too big on a long lens though, backing off is often not possible, and you miss your shot<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>. Plus, wide-ish angles don't blur as much from shaky hands, and are more compact. They often focus more closely, too, which is a huge bonus if you want to take pictures of a toddler.
</p>

<p>
I have tried, unsuccessfully, a 50mm and 35mm prime (APS-C). Now I own a 27mm pancake prime, which I find perfect: long enough to get nice portraits, but still wide enough to capture a landscape.
</p>

<p>
Be careful with super-wide angle lenses, though. Even though they are a ton of fun, I have found anything below 16mm to be very difficult to <a href="https://www.kenrockwell.com/tech/how-to-use-ultra-wide-lenses.htm">use effectively</a>. It's just too easy to get that fisheye-distorted look, especially near the sides. That distorted look, by the way, is caused by being too close, not by lens distortion. The same thing happens if you take a longer lens or a cell phone and get too close. Just don't do that.
</p>
</div>
</div>

<div id="outline-container-orgaef3fcc" class="outline-2">
<h2 id="orgaef3fcc">Gear</h2>
<div class="outline-text-2" id="text-orgaef3fcc">
<p>
Pros use the biggest sensor they can get, to get the best image quality possible. But that also makes everything else much more cumbersome: Bigger sensors mean bigger and heavier bodies. And bigger and heavier lenses. And shallower depth of field (see above). And smaller focal ranges, hence more lens changing. And, not least of all, much, much, much higher prices. It is not for me.
</p>

<p>
To some extent, the same goes for different quality levels: Personally, I have found entry-level APS-C mirrorless interchangeable lens cameras a good compromise. These entry-level plastic lenses and cameras are usually smaller, lighter, and cheaper than their higher-end brethren, but compromise on robustness and aperture sizes (e.g. <a href="https://camerasize.com/compact/#493.421,520.359,7.351,ha,t">Fuji X-E2 375g/€250 + Fuji XC 16-50mm, 195g/€150 vs. Fuji X-T1 450g/€250 + Fuji XF 18-55mm, 300g/€250 vs. my old Nikon gear</a>). And for my everyday camera, I' take a <a href="https://camerasize.com/compact/#493.388,ha,t">smaller, pocketable camera</a> over a "better", bigger one any day.
</p>

<p>
Haptics are important, too. I have seen great cameras and lenses that just didn't feel good in my hand. Which meant I wouldn't ever take them with me, and wouldn't take any pictures with them. I now go try stuff in the store before I buy anything. This has talked me out of a number of unnecessary purchases, internet consensus notwithstanding.
</p>

<p>
And finally, I buy used gear. Cameras and lenses depreciate about 70% within the first two years, without losing any quality. A great camera from two years ago is still a great camera, but costs a third of the original price, and can be resold without loss. And is better for the environment. Win-win-win.
</p>
</div>
</div>

<div id="outline-container-org6263e72" class="outline-2">
<h2 id="org6263e72">TL;DR</h2>
<div class="outline-text-2" id="text-org6263e72">
<p>
I have found many "common" rules about photography useless for my amateur needs. I have found cheap, plastic, used gear more useful than pro gear. I have found noisy, small-aperture pictures to be better at capturing important memories than clean, "professional" ones. I have found haptics, size and weight to be much more important than ultimate image quality (within reason).
</p>

<p>
The funny thing is, you don't find this kind of information on the internet, since most review websites seem to focus on the professional viewpoint, even for gear that is clearly meant for amateurs like me.
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
You need to back off much farther on a long lens than you have
to move closer on a wide lens.
</p></div></div>


</div>
</div><div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-photography.html">photography</a> </div>
<div class="post-date">06 Jan 2019</div><h1 class="post-title"><a href="2019-01-06-books-of-2018.html">Books of 2018</a></h1>
<p>
There is no other media more immersive to me than reading. When I read, I dive deep into another world, and seize to perceive the reality around me. It is my escape from the everyday stresses of living in the modern world. Reading is truly sacred to me. So here are my favorite pieces of writing of 2018:
</p>

<div id="outline-container-org07cd278" class="outline-2">
<h2 id="org07cd278"><a href="https://www.goodreads.com/book/show/9530.Shadow_Divers">Shadow Divers</a></h2>
<div class="outline-text-2" id="text-org07cd278">

<figure>
<img src="https://bastibe.de/static/2019-01/shadow-divers-cover.jpg" alt="shadow-divers-cover.jpg" style="float:left;margin:5px;margin-right:20px" width="150px">

</figure>

<p>
This is a book about deep wreck diving. I am not interested in wrecks, or diving. Nevertheless, no book gripped me as hard last year as Shadow Divers. At first, I was a bit thrown off by the writing style, and thought it dramatized things too much. But I just couldn't put this book down. There were times when I surfaced from reading with a distinct feeling of having been there, of having touched that menacing shipwreck at the bottom of the ocean.
</p>

<p>
By the end of it, I was entirely engrossed in the story and its characters and the history of the mystery wreck. And then, in the epilogue, I learned that what I had thought embellished at first was actually meticulously researched and not overdramatic at all.
</p>

<p>
And best of all, my favorite podcast, <a href="http://omegataupodcast.net">Omega Tau</a> had <a href="http://omegataupodcast.net/33-deep-wreck-diving/">an interview</a> with the main protagonist of the book, which is just fascinating!
</p>
</div>
</div>

<div id="outline-container-orgb47c2a3" class="outline-2">
<h2 id="orgb47c2a3"><a href="https://www.goodreads.com/book/show/34757960-the-shortest-history-of-germany">The Shortest History of Germany</a></h2>
<div class="outline-text-2" id="text-orgb47c2a3">

<figure>
<img src="https://bastibe.de/static/2019-01/german-history-cover.jpg" alt="german-history-cover.jpg" style="float:left;margin:5px;margin-right:20px" width="150px">

</figure>

<p>
This book is a strange choice to put on my list of books, because I didn't like it too much. I found it offputting which parts of history the author emphasized, and which parts he skipped. Apparently, the two world wars did not bear mentioning. The book paints a strangely specific west-vs-east map of Germany, which is not without merit, but surely not the whole story. And worst of all, I really didn't care for the writing style at all.
</p>

<p>
But when I look back on 2018, this book has stuck with me. Never mind its shortcomings, it has given me a map of Germany's history that I can fit other pieces of knowledge into. And that makes it valuable to me.
</p>
</div>
</div>

<div id="outline-container-orgd2ec951" class="outline-2">
<h2 id="orgd2ec951"><a href="https://uncannymagazine.com/article/and-then-there-were-n-one/">And then there were (N-One)</a></h2>
<div class="outline-text-2" id="text-orgd2ec951">

<figure>
<img src="https://bastibe.de/static/2019-01/n-1-cover.jpg" alt="n-1-cover.jpg" style="float:left;margin:5px;margin-right:20px" width="150px">

</figure>

<p>
I love short stories. And this one is just brilliant. It is by Sarah Pinsker, about Sarah Pinsker, and all Sarah Pinskers from neighboring parallel universes. Every character in this book is a Sarah Pinsker. And all of them agree, Sarah is no murderer. Yet, one of them has been found murdered.
</p>

<p>
I won't spoil more of it, just head over to the <a href="https://uncannymagazine.com/article/and-then-there-were-n-one/">Uncanny Magazine</a> and read it for yourself!
</p>

<br><br>
</div>
</div>

<div id="outline-container-org2c7704a" class="outline-2">
<h2 id="org2c7704a">Graphic Novels</h2>
<div class="outline-text-2" id="text-org2c7704a">
<p>
For years now, I have struggled to find graphic novels that speak to me. I usually find the drawing style off-putting, and would have preferred a more fleshed out novel instead of a shallow graphic novel. But this year, I found two brilliant graphic novels that I loved dearly:
</p>
</div>

<div id="outline-container-orgcc4c278" class="outline-3">
<h3 id="orgcc4c278"><a href="https://www.goodreads.com/book/show/15195.The_Complete_Maus">Maus</a></h3>
<div class="outline-text-3" id="text-orgcc4c278">

<figure>
<img src="https://bastibe.de/static/2019-01/maus-cover.jpg" alt="maus-cover.jpg" style="float:left;margin:5px;margin-right:20px" width="150px">

</figure>

<p>
The half-auto-biographical narrative of a survivor of one the Nazi concentration camps. The novel juxtaposes the author's struggle to interview his father about his past, and thereby shows both the cruelty of the father's experience, and the man that this experience created. Both of these perspectives add weight to the unspeakable nastiness of the Holocaust.
</p>

<p>
But beyond that, it is also a story of humanity, struggle, and the small moments of joy amidst all the terror. Truly a masterpiece of a book.
</p>
</div>
</div>

<div id="outline-container-org6a5712f" class="outline-3">
<h3 id="org6a5712f"><a href="https://www.goodreads.com/book/show/19351043-nimona">Nimona</a></h3>
<div class="outline-text-3" id="text-org6a5712f">

<figure>
<img src="https://bastibe.de/static/2019-01/nimona-cover.jpg" alt="nimona-cover.jpg" style="float:left;margin:5px;margin-right:20px" width="150px">

</figure>

<p>
In sharp contrast to the previous book, Nimona is just plain fun! Nimona is a teenage girl, and a shark, and the sidekick of Balister Blackheart, the biggest name in Supervillainy. And if you haven't guessed it from this description, it is wacky, and funny, and uplifting, and just&#x2026; fun!
</p>

<p>
You can read the first three chapters <a href="http://gingerhaze.com/nimona">online</a>, and then you'll want to read the rest, too. It's just too much fun!
</p>
</div>
</div>
</div>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-books.html">books</a> </div>
<div class="post-date">08 Nov 2018</div><h1 class="post-title"><a href="2018-11-08-cool-python-libraries.html">Cool Python Libraries: TQDM and Resampy</a></h1>
<p>
In my recent post about <a href="https://bastibe.de/2018-10-14-appreciation-for-open-source-and-commercial-software.html">appreciation for open source software</a>, I mentioned that we should praise our open source heros more often. So here are two lesser-known libraries that I use daily, and which are unabashedly awesome:
</p>

<div id="outline-container-orgda06c2f" class="outline-2">
<h2 id="orgda06c2f"><a href="https://tqdm.github.io/">TQDM</a></h2>
<div class="outline-text-2" id="text-orgda06c2f">
<p>
TQDM draws text progress bars for long-running processes, simply by wrapping your iterator in <code>tqdm(iterator)</code>. And this, alone, would be awesome. But, TQDM is one of those libraries that aren't just a good idea, but then go the extra mile, and add fantastic documentation, contingencies for all kinds of weird use cases, and integration with notebooks and GUIs.
</p>

<p>
I use TQDM all the time, for running my scientific experiments and data analysis, and it just works. For long-running tasks, I recommend using <code>tqdm(iterator, smoothing=0, desc='calculating')</code>, which adds a meaningful description to the progress bar, and an accurate runtime estimate.
</p>
</div>
</div>

<div id="outline-container-orgce3f785" class="outline-2">
<h2 id="orgce3f785"><a href="https://resampy.readthedocs.io/en/latest/">Resampy</a></h2>
<div class="outline-text-2" id="text-orgce3f785">
<p>
Resampy resamples numpy signals. Resample your data with <code>resample(signal, old_samplerate, new_samplerate)</code>. Just like with TQDM, this simple interface hides a lot of complexity and flexibility under the hood, yet remains conceptually simple and easy to use.
</p>

<p>
But beyond simplicity, resampy uses a clever implementation that is a far cry better than <code>scipy.signal.resample</code>, while still being easy to install and fast. For a more thorough comparison of resampling algorithms, visit <a href="https://signalsprocessed.blogspot.com/2016/08/audio-resampling-in-python.html">Joachim Thiemann's blog</a>.
</p>
</div>
</div>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-python.html">python</a> </div>
<div class="post-date">26 Oct 2018</div><h1 class="post-title"><a href="2018-10-26-dealing-with-unreliable-software.html">Dealing with Unreliable Software</a></h1>
<p>
About a year ago, I started working on a big comparison study between a bunch of scientific algorithms. Many of these have open-source software available, and I wanted to evaluate them with a large variety of input signals. The problem is, this is <a href="https://bastibe.de/2017-05-14-scientific-code.html">scientific code</a>, i.e. the worst code imaginable.
</p>

<p>
Things this code has done to my computer:
</p>
<ul class="org-ul">
<li>it crashed, throwing an error, and shutting down nicely</li>
<li>it crashed with a segfault, taking the owning process with it</li>
<li>it crashed, leaving temporary files lying around</li>
<li>it crashed, leaving zombie processes lying around</li>
<li>it spin-locked, and never returned</li>
<li>it spin-locked, and forked uncontrollably until all process decriptors were exhausted</li>
<li>it spin-locked, and ate memory uncontrollably until all memory was consumed</li>
<li>it crashed other, unrelated programs (no idea how it managed that)</li>
<li>it corrupted the root file system (no idea how it managed that)</li>
</ul>

<p>
Note that the code did not do any of this intentionally. It was merely code written by non-expert programmers, the problems often a side effect of performance optimizations. The code mostly works fine if called only once or twice. My problems only become apparent if I ran it, say, a few hundred thousand times, with dozens of processes in parallel.
</p>

<p>
So, how do you deal with this? Multi-threading is not an option, since a segfault would kill the whole program. So it has to be multi-processing. But all the multi-processing frameworks I know will lose all progress if one of the more sinister scenarios from the above list hard-crashed one or more of its processes. I needed a more robust solution.
</p>

<p>
Basically, the only hope of survival at this point is the kernel. Only the kernel has enough power to rein in rogue processes, and deal with hard crashes. So in my <a href="https://github.com/bastibe/runforrest">purpose-built multi-processing framework</a>, every task runs in its own process, with inputs and outputs written to unique files. And crucially, if any task does not finish within a set amount of time, it and all of its children are killed.
</p>

<p>
It took me quite a while to figure out how to do this, so here's the deal:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #111111; font-style: italic;"># </span><span style="color: #111111; font-style: italic;">start your process with a new process group:</span>
<span style="color: #111111;">process</span> = Popen(..., start_new_session=<span style="color: #111111;">True</span>)

<span style="color: #111111; font-style: italic;"># </span><span style="color: #111111; font-style: italic;">after a timeout, kill the whole process group:</span>
<span style="color: #111111;">process_group_id</span> = os.getpgid(process.pid)
os.killpg(process_group_id, signal.SIGKILL)
</pre>
</div>

<p>
This is the nuclear option. I tried <code>SIGTERM</code> and <code>SIGHUP</code> instead, but programs would happily ignore it. I tried killing or terminating only the <code>process</code>, but that would leave zombie children. Sending <code>SIGKILL</code> to the process group does not take prisoners. The processes do not get a chance to respond or clean up after themselves. But you know what, after months of dealing with this stuff, this is the first time that my experiments actually run reliably for a few days without crashing or exhausting some resource. If that's what it takes, so be it.
</p>
<div class="taglist"><a href="tags.html">Tags:</a> <a href="tag-programming.html">programming</a> </div><div id="archive">
<a href="archive.html">Other posts</a>
</div>
</div>
</body>
</html>
